{
  "version": 3,
  "sources": ["../../.pnpm/regexparam@1.3.0/node_modules/regexparam/dist/regexparam.mjs", "../../.pnpm/navaid@1.2.0/node_modules/navaid/dist/navaid.mjs"],
  "sourcesContent": ["export default function (str, loose) {\n\tif (str instanceof RegExp) return { keys:false, pattern:str };\n\tvar c, o, tmp, ext, keys=[], pattern='', arr = str.split('/');\n\tarr[0] || arr.shift();\n\n\twhile (tmp = arr.shift()) {\n\t\tc = tmp[0];\n\t\tif (c === '*') {\n\t\t\tkeys.push('wild');\n\t\t\tpattern += '/(.*)';\n\t\t} else if (c === ':') {\n\t\t\to = tmp.indexOf('?', 1);\n\t\t\text = tmp.indexOf('.', 1);\n\t\t\tkeys.push( tmp.substring(1, !!~o ? o : !!~ext ? ext : tmp.length) );\n\t\t\tpattern += !!~o && !~ext ? '(?:/([^/]+?))?' : '/([^/]+?)';\n\t\t\tif (!!~ext) pattern += (!!~o ? '?' : '') + '\\\\' + tmp.substring(ext);\n\t\t} else {\n\t\t\tpattern += '/' + tmp;\n\t\t}\n\t}\n\n\treturn {\n\t\tkeys: keys,\n\t\tpattern: new RegExp('^' + pattern + (loose ? '(?=$|\\/)' : '\\/?$'), 'i')\n\t};\n}\n", "import convert from 'regexparam';\n\nexport default function Navaid(base, on404) {\n\tvar rgx, curr, routes=[], $={};\n\n\tvar fmt = $.format = function (uri) {\n\t\tif (!uri) return uri;\n\t\turi = '/' + uri.replace(/^\\/|\\/$/g, '');\n\t\treturn rgx.test(uri) && uri.replace(rgx, '/');\n\t}\n\n\tbase = '/' + (base || '').replace(/^\\/|\\/$/g, '');\n\trgx = base == '/' ? /^\\/+/ : new RegExp('^\\\\' + base + '(?=\\\\/|$)\\\\/?', 'i');\n\n\t$.route = function (uri, replace) {\n\t\tif (uri[0] == '/' && !rgx.test(uri)) uri = base + uri;\n\t\thistory[(uri === curr || replace ? 'replace' : 'push') + 'State'](uri, null, uri);\n\t}\n\n\t$.on = function (pat, fn) {\n\t\t(pat = convert(pat)).fn = fn;\n\t\troutes.push(pat);\n\t\treturn $;\n\t}\n\n\t$.run = function (uri) {\n\t\tvar i=0, params={}, arr, obj;\n\t\tif (uri = fmt(uri || location.pathname)) {\n\t\t\turi = uri.match(/[^\\?#]*/)[0];\n\t\t\tfor (curr = uri; i < routes.length; i++) {\n\t\t\t\tif (arr = (obj=routes[i]).pattern.exec(uri)) {\n\t\t\t\t\tfor (i=0; i < obj.keys.length;) {\n\t\t\t\t\t\tparams[obj.keys[i]] = arr[++i] || null;\n\t\t\t\t\t}\n\t\t\t\t\tobj.fn(params); // todo loop?\n\t\t\t\t\treturn $;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (on404) on404(uri);\n\t\t}\n\t\treturn $;\n\t}\n\n\t$.listen = function (u) {\n\t\twrap('push');\n\t\twrap('replace');\n\n\t\tfunction run(e) {\n\t\t\t$.run();\n\t\t}\n\n\t\tfunction click(e) {\n\t\t\tvar x = e.target.closest('a'), y = x && x.getAttribute('href');\n\t\t\tif (e.ctrlKey || e.metaKey || e.altKey || e.shiftKey || e.button || e.defaultPrevented) return;\n\t\t\tif (!y || x.target || x.host !== location.host || y[0] == '#') return;\n\t\t\tif (y[0] != '/' || rgx.test(y)) {\n\t\t\t\te.preventDefault();\n\t\t\t\t$.route(y);\n\t\t\t}\n\t\t}\n\n\t\taddEventListener('popstate', run);\n\t\taddEventListener('replacestate', run);\n\t\taddEventListener('pushstate', run);\n\t\taddEventListener('click', click);\n\n\t\t$.unlisten = function () {\n\t\t\tremoveEventListener('popstate', run);\n\t\t\tremoveEventListener('replacestate', run);\n\t\t\tremoveEventListener('pushstate', run);\n\t\t\tremoveEventListener('click', click);\n\t\t}\n\n\t\treturn $.run(u);\n\t}\n\n\treturn $;\n}\n\nfunction wrap(type, fn) {\n\tif (history[type]) return;\n\thistory[type] = type;\n\tfn = history[type += 'State'];\n\thistory[type] = function (uri) {\n\t\tvar ev = new Event(type.toLowerCase());\n\t\tev.uri = uri;\n\t\tfn.apply(this, arguments);\n\t\treturn dispatchEvent(ev);\n\t}\n}\n"],
  "mappings": "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",
  "names": []
}
